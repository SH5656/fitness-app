<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fitness App</title>

<!-- Chart library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  font-family: Arial, sans-serif;
  background:#e8f5e9;
  padding:12px;
}
.app{
  max-width:420px;
  margin:auto;
  background:#ffffff;
  padding:14px;
  border-radius:14px;
  box-shadow:0 6px 20px rgba(0,0,0,0.15);
}
h2,h3{
  text-align:center;
  margin:6px 0;
}
button{
  width:100%;
  padding:10px;
  margin:8px 0;
  border:none;
  border-radius:10px;
  background:#2ecc71;
  color:#fff;
  font-size:16px;
}
.card{
  background:#f5f5f5;
  padding:10px;
  border-radius:10px;
  margin:10px 0;
}
label{
  display:block;
  margin:6px 0;
  font-size:15px;
}
</style>
</head>

<body>

<div class="app">
  <h2>ğŸ‹ï¸ My Fitness App</h2>

  <!-- Sound -->
  <button onclick="enableSound()">ğŸ”Š Enable Sound</button>

  <!-- Habits -->
  <div class="card">
    <h3>â˜‘ï¸ Today Habits</h3>
    <label><input type="checkbox" onchange="tick()"> Exercise</label>
    <label><input type="checkbox" onchange="tick()"> Running</label>
    <label><input type="checkbox" onchange="tick()"> Study</label>
  </div>

  <!-- Chart -->
  <div class="card">
    <h3>ğŸ“Š Monthly Progress</h3>
    <canvas id="chart"></canvas>
  </div>
</div>

<!-- Tick sound -->
<audio id="tickSound" preload="auto">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-click-1124.mp3">
</audio>

<script>
/* ---------- SOUND ---------- */
let soundEnabled = false;
const sound = document.getElementById("tickSound");

function enableSound(){
  sound.play().then(()=>{
    sound.pause();
    sound.currentTime = 0;
    soundEnabled = true;
    alert("Sound enabled âœ…");
  }).catch(()=>{
    alert("Tap again to enable sound");
  });
}

/* ---------- SAVE DAILY DATA ---------- */
function tick(){
  if(soundEnabled){
    sound.currentTime = 0;
    sound.play();
  }

  const today = new Date().getDate();
  let count = parseInt(localStorage.getItem("day_"+today) || 0);
  localStorage.setItem("day_"+today, count + 1);
  loadChart();
}

/* ---------- CHART ---------- */
let chart;

function loadChart(){
  const daysInMonth = 30;   // simple fixed month
  let labels = [];
  let data = [];

  for(let d=1; d<=daysInMonth; d++){
    labels.push(d);
    let value = parseInt(localStorage.getItem("day_"+d) || 0);
    data.push(Math.min(value * 30, 100)); // convert to %
  }

  if(chart) chart.destroy();

  chart = new Chart(document.getElementById("chart"),{
    type:"line",
    data:{
      labels: labels,
      datasets:[{
        label:"Progress %",
        data: data,
        borderColor:"#2ecc71",
        backgroundColor:"rgba(46,204,113,0.2)",
        tension:0.3,
        fill:true
      }]
    },
    options:{
      scales:{
        y:{min:0,max:100}
      }
    }
  });
}

loadChart();
</script>

</body>
</html>
